<!-- 

========================================================================================

                                    CODE B·ªûI TR·∫¶N D∆Ø∆†NG GIA B·∫¢O

========================================================================================

-->

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh to√°n - COFFEE GIBOR SHOP</title>

    <!-- THEME CH√çNH D√ôNG CHUNG-->
    <link rel="stylesheet" href="css/style.css" />
    <!-- CSS RI√äNG CHO CHECKOUT -->
    <link rel="stylesheet" href="css/payment.css" />

    <!-- FONT D√ôNG CHUNG -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:ital,wght@0,700;1,700&family=Mrs+Saint+Delafield&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
</head>
<body></body>
    <!-- HEADER D√ôNG CHUNG -->
    <header class="header">
      <div class="header-container">
        <!-- LOGO -->
        <a href="index.html" class="logo">
          <img src="images/logo/logo.jpg" alt="GIBOR Coffee" />
          <span>GIBOR COFFEE</span>
        </a>

        <!-- NAV -->
        <nav class="nav">
          <ul class="nav-links">
            <li><a href="index.html">Trang ch·ªß</a></li>
            <li><a href="menu.html">Menu</a></li>
            <li><a href="about.html">Gi·ªõi thi·ªáu</a></li>
            <li><a href="contact.html">Li√™n h·ªá</a></li>
          </ul>
        </nav>

        <!-- AUTH + CART -->
        <div class="header-actions">
          <a href="login.html" class="icon-btn" id="authLink">ƒêƒÉng nh·∫≠p</a>
          <a href="cart.html" class="icon-btn cart">
            üõí
            <span>Gi·ªè h√†ng</span>
            <span>0</span>
          </a>
          <button class="theme-toggle" id="themeToggle">üåô</button>
          <button class="menu-toggle" id="menuToggle" aria-label="Menu">
            <i class="fas fa-bars"></i>
        </div>
      </div>
    </header>

    <main class="checkout-container">
      <!-- Loading Screen -->
      <div class="logo" id="preloader">
        <div class="loader-icon">
          <img src="images/logo/logo.jpg" alt="GIBOR Coffee" />
        </div>
        <p
          style="
            color: white;
            margin-top: 20px;
            letter-spacing: 5px;
            font-weight: 600;
          "
        >
          GIBOR COFFEE
        </p>
      </div>

      <h2 class="checkout-title">THANH TO√ÅN ƒê∆†N H√ÄNG</h2>

      <div class="checkout-layout">
        <!-- ===== C·ªòT TR√ÅI: TH√îNG TIN NH·∫¨N H√ÄNG + V·∫¨N CHUY·ªÇN + THANH TO√ÅN ===== -->
        <div class="checkout-left">

          <!-- TH√îNG TIN NH·∫¨N H√ÄNG -->
          <section class="checkout-section">
            <div class="section-header">
              <h3>Th√¥ng tin nh·∫≠n h√†ng</h3>
            </div>
            <div class="form-group">
              <label for="ckEmail">Email <span class="required">*</span></label>
              <input type="email" id="ckEmail" placeholder="email@example.com" />
            </div>
            <div class="form-group">
              <label for="ckName">H·ªç v√† t√™n <span class="required">*</span></label>
              <input type="text" id="ckName" placeholder="Nguy·ªÖn VƒÉn A" required />
            </div>
            <div class="form-group">
              <label for="ckPhone">S·ªë ƒëi·ªán tho·∫°i <span class="required">*</span></label>
              <div class="phone-input">
                <span class="phone-prefix">üáªüá≥ +84</span>
                <input type="tel" id="ckPhone" placeholder="0909 xxx xxx" required />
              </div>
            </div>
            <div class="form-group" id="groupAddress">
              <label for="ckAddress">ƒê·ªãa ch·ªâ <span class="required">*</span></label>
              <input type="text" id="ckAddress" placeholder="S·ªë nh√†, t√™n ƒë∆∞·ªùng..." />
            </div>
            <div class="form-group" id="groupCity">
              <label for="ckCity">T·ªânh/Th√†nh ph·ªë <span class="required">*</span></label>
              <select id="ckCity">
                <option value="">--- Ch·ªçn ---</option>
                <option value="hn">H√† N·ªôi</option>
                <option value="dn">ƒê√† N·∫µng</option>
                <option value="hcm">TP. H·ªì Ch√≠ Minh</option>
              </select>
            </div>
            <div class="form-group" id="groupWard">
              <label for="ckWard">Ph∆∞·ªùng/X√£ <span class="required">*</span></label>
              <select id="ckWard">
                <option value="">--- Ch·ªçn ---</option>
              </select>
            </div>
            <div class="form-group">
              <label for="ckNote">Ghi ch√∫ ƒë∆°n h√†ng</label>
              <textarea id="ckNote" rows="3" placeholder="VD: Giao h√†ng gi·ªù h√†nh ch√≠nh, g·ªçi tr∆∞·ªõc 15 ph√∫t..."></textarea>
            </div>
          </section>

          <!-- V·∫¨N CHUY·ªÇN -->
          <section class="checkout-section">
            <h3>H√¨nh th·ª©c nh·∫≠n h√†ng</h3>
            <div class="shipping-options">
              <label class="shipping-option active" data-method="delivery">
                <input type="radio" name="shipping" value="delivery" checked />
                <span class="shipping-radio"></span>
                <span class="shipping-label">Giao h√†ng t·∫≠n n∆°i</span>
                <i class="fa-solid fa-truck"></i>
              </label>
              <label class="shipping-option" data-method="dine-in">
                <input type="radio" name="shipping" value="dine-in" />
                <span class="shipping-radio"></span>
                <span class="shipping-label">S·ª≠ d·ª•ng t·∫°i qu√°n</span>
                <i class="fa-solid fa-store"></i>
              </label>
            </div>
            <div class="shipping-notice" id="shippingNotice" style="display: none;">
              <i class="fa-solid fa-circle-info"></i>
              <span>Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin giao h√†ng ·ªü tr√™n</span>
            </div>

            <!-- CH·ªåN CHI NH√ÅNH (ch·ªâ hi·ªán khi u·ªëng t·∫°i qu√°n) -->
            <div class="branch-section" id="branchSection">
              <h4><i class="fa-solid fa-location-dot"></i> Ch·ªçn chi nh√°nh</h4>
              <div class="form-group">
                <label for="branchCity">Khu v·ª±c</label>
                <select id="branchCity">
                  <option value="">--- Ch·ªçn khu v·ª±c ---</option>
                  <option value="hcm">TP. H·ªì Ch√≠ Minh</option>
                  <option value="hn">H√† N·ªôi</option>
                  <option value="dn">ƒê√† N·∫µng</option>
                </select>
              </div>
              <div class="branch-list" id="branchList">
                <!-- C√°c chi nh√°nh s·∫Ω ƒë∆∞·ª£c render b·ªüi JS -->
              </div>
            </div>
          </section>

          <!-- PH∆Ø∆†NG TH·ª®C THANH TO√ÅN -->
          <section class="checkout-section">
            <h3>Thanh to√°n</h3>
            <div class="payment-options">
              <label class="payment-option active" data-method="cod">
                <input type="radio" name="payment" value="cod" checked />
                <span class="payment-radio"></span>
                <span class="payment-label">Thanh to√°n khi giao h√†ng (COD)</span>
                <i class="fa-solid fa-money-bill-wave"></i>
              </label>
              <label class="payment-option" data-method="banking">
                <input type="radio" name="payment" value="banking" />
                <span class="payment-radio"></span>
                <span class="payment-label">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</span>
                <i class="fa-solid fa-building-columns"></i>
              </label>
            </div>

            <!-- Th√¥ng tin chuy·ªÉn kho·∫£n (·∫©n m·∫∑c ƒë·ªãnh, ch·ªâ hi·ªán khi ch·ªçn Banking) -->
            <!-- CODE B·ªúI TR·∫¶N GIA B·∫¢O -->
            <!-- V√πng hi·ªÉn th·ªã QR -->
            <div class="banking-info" id="bankingInfo" style="display: none;">
                <p style="font-weight: 600; margin-bottom: 10px;">Qu√©t ƒë·ªÉ thanh to√°n ƒë∆°n h√†ng</p>
                
                <div class="loader" id="qrLoader"></div>
                <img id="qrImage" src="" alt="M√£ QR thanh to√°n">

                <div class="qr-details">
                    <p><strong>Ch·ªß TK:</strong> <span id="bankName">TRAN GIA BAO</span></p>
                    <p><strong>S·ªë TK:</strong> 398383979 <button class="copy-btn">Sao ch√©p</button></p>
                    <p><strong>S·ªë ti·ªÅn:</strong> <span id="displayAmount" style="color: var(--accent-color); font-weight: bold;">0ƒë</span></p>
                    <p><strong>N·ªôi dung:</strong> <span id="displayDesc" style="color: #007bff; font-weight: bold;"></span></p>
                </div>
                <p style="font-size: 11px; color: #888; margin-top: 10px;">* Giao d·ªãch ho√†n to√†n b·∫£o m·∫≠t qua VietQR</p>
            </div>
          </section>
        </div>

        <!-- K·∫æT TH√öC CODE B·ªûI TR·∫¶N GIA B·∫¢O -->

        <!-- ===== C·ªòT PH·∫¢I: ƒê∆†N H√ÄNG ===== -->
        <div class="checkout-right">
          <section class="checkout-section order-section">
            <h3>ƒê∆°n h√†ng (<span id="orderCount">0</span> s·∫£n ph·∫©m)</h3>
            
            <div class="order-items" id="orderItems">
              <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c render b·ªüi JS -->
            </div>

            <!-- M√£ gi·∫£m gi√° -->
            <div class="coupon-row">
              <input type="text" id="couponCode" placeholder="Nh·∫≠p m√£ gi·∫£m gi√°" />
              <button class="btn-coupon" id="btnCoupon">√Åp d·ª•ng</button>
            </div>

            <!-- T√≠nh ti·ªÅn -->
            <div class="order-calc">
              <div class="calc-row">
                <span>T·∫°m t√≠nh</span>
                <span id="subtotalPrice">0ƒë</span>
              </div>
              <div class="calc-row">
                <span>Ph√≠ v·∫≠n chuy·ªÉn</span>
                <span id="shippingFee">-</span>
              </div>
              <div class="calc-row discount-row" id="discountRow" style="display: none;">
                <span>Gi·∫£m gi√°</span>
                <span id="discountAmount">-0ƒë</span>
              </div>
            </div>

            <!-- T·ªïng c·ªông -->
            <div class="order-total">
              <span>T·ªïng c·ªông</span>
              <strong id="grandTotal">0ƒë</strong>
            </div>

            <!-- H√†nh ƒë·ªông -->
            <div class="order-actions">
              <a href="cart.html" class="btn-back-cart">
                <i class="fa-solid fa-chevron-left"></i> Quay v·ªÅ gi·ªè h√†ng
              </a>
              <button class="btn-place-order" id="btnPlaceOrder">
                <i class="fa-solid fa-check"></i> ƒê·∫∂T H√ÄNG
              </button>
            </div>
          </section>
        </div>
      </div>

      <!-- Toast th√¥ng b√°o -->
      <div class="toast" id="toast">
        <i class="fa-solid fa-circle-check"></i>
        <span id="toastMessage">Thao t√°c th√†nh c√¥ng!</span>
      </div>

      <!-- Popup x√°c nh·∫≠n thanh to√°n -->
      <div class="confirm-overlay" id="confirmOverlay">
        <div class="confirm-popup">
          <div class="confirm-icon">
            <i class="fa-solid fa-circle-question"></i>
          </div>
          <h3>X√°c nh·∫≠n thanh to√°n</h3>
          <p>B·∫°n ƒë√£ ho√†n t·∫•t chuy·ªÉn kho·∫£n thanh to√°n ch∆∞a?</p>
          <p style="font-size: 13px; color: #666; margin-top: 8px;">
            Nh·∫•n <strong>X√°c nh·∫≠n</strong> n·∫øu ƒë√£ chuy·ªÉn kho·∫£n th√†nh c√¥ng.<br>
            Nh·∫•n <strong>H·ªßy</strong> ƒë·ªÉ ki·ªÉm tra l·∫°i th√¥ng tin.
          </p>
          <div class="confirm-actions">
            <button class="btn-confirm-cancel" id="btnConfirmCancel">
              <i class="fa-solid fa-times"></i> H·ªßy
            </button>
            <button class="btn-confirm-ok" id="btnConfirmOk">
              <i class="fa-solid fa-check"></i> X√°c nh·∫≠n
            </button>
          </div>
        </div>
      </div>

      <!-- Popup ƒë·∫∑t h√†ng th√†nh c√¥ng -->
      <div class="success-overlay" id="successOverlay">
        <div class="success-box">
          <div class="success-icon">
            <i class="fa-solid fa-circle-check"></i>
          </div>
          <h3>ƒê·∫∑t h√†ng th√†nh c√¥ng!</h3>
          <p>C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t h√†ng t·∫°i <strong>GIBOR COFFEE</strong>.</p>
          <p>Ch√∫ng t√¥i s·∫Ω li√™n h·ªá x√°c nh·∫≠n ƒë∆°n h√†ng s·ªõm nh·∫•t.</p>
          <p class="order-code">M√£ ƒë∆°n: <strong id="orderCode">#GB0000</strong></p>
          <div class="success-actions">
            <a href="menu.html" class="btn-success-menu">Ti·∫øp t·ª•c mua s·∫Øm</a>
            <a href="index.html" class="btn-success-home">V·ªÅ trang ch·ªß</a>
          </div>
        </div>
      </div>
    </main>

    <!-- FOOTER D√ôNG CHUNG -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-col">
          <h3 class="footer-logo">GIBOR COFFEE</h3>
          <ul>
            <li>
              <p>
                Kh∆°i ngu·ªìn c·∫£m h·ª©ng t·ª´ nh·ªØng h·∫°t c√† ph√™ rang xay nguy√™n ch·∫•t.
                Ch√∫ng t√¥i mang ƒë·∫øn tr·∫£i nghi·ªám h∆∞∆°ng v·ªã m·ªôc m·∫°c v√† tinh t·∫ø nh·∫•t.
              </p>
            </li>
            <li>
              <img src="images/logo/logoHuit.png" alt="logo-huit" height="60" />
            </li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Kh√°m Ph√°</h4>
          <ul>
            <li><a href="index.html">Trang ch·ªß</a></li>
            <li><a href="menu.html">Menu</a></li>
            <li><a href="about.html">Gi·ªõi thi·ªáu</a></li>
            <li><a href="contact.html">Li√™n h·ªá</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Li√™n H·ªá</h4>
          <ul>
            <li>
              <p>üìç 140 L√™ Tr·ªçng T·∫•n, T√¢n Ph√∫, TP.HCM</p>
            </li>
            <li>
              <p>üìû 0909 999 999</p>
            </li>
          </ul>

          <h4 style="margin-top: 25px">Theo D√µi GIBOR</h4>
          <div class="social-links">
            <a href="#" class="btn btn-secondary">Facebook</a>
            <a href="#" class="btn btn-secondary">TikTok</a>
          </div>
        </div>

        <div class="footer-col">
          <h4>V·ªã Tr√≠</h4>
          <div class="google-map">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31352.538163214747!2d106.5926170349121!3d10.806159823201295!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752be27d8b4f4d%3A0x92dcba2950430867!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBDw7RuZyBUaMawxqFuZyBUUC4gSOG7kyBDaMOtIE1pbmggKEhVSVQp!5e0!3m2!1svi!2s!4v1770452982001!5m2!1svi!2s"
              width="100%"
              height="150"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>¬© 2026 GIBOR COFFEE. Designed by Team 3 B·∫£o & Anh.</p>
      </div>
    </footer>

    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
    <script src="js/payment.js"></script>
</body>
</html>

<!-- 

========================================================================================

                                   K·∫æT TH√öC CODE B·ªûI TR·∫¶N D∆Ø∆†NG GIA B·∫¢O

========================================================================================

-->